import{c as $}from"./utils-CnVfeQtM.js";import{P as A,a as M}from"./VisuallyHidden-C0I93g3R.js";import{c as x}from"./createContext-DUWa75Un.js";import{i as y,a as k,u as j,C as K}from"./check-BGLMj-b2.js";import{u as R}from"./useForwardExpose-DuyzoFiO.js";import{P as S}from"./Primitive-B0P0Cbkr.js";import{R as N}from"./RovingFocusItem-DhKJ5z_J.js";import{V as z}from"./VisuallyHiddenInput-KcCq5A4F.js";import{d as _,n as m,x as v,o as b,w as n,l as V,y as D,u as e,E as g,L as H,H as L,D as O,a as C}from"./app-Ck0_Oz6D.js";import{a as T}from"./index-BNYgcxdN.js";function B(l,i){return y(l)?!1:Array.isArray(l)?l.some(t=>k(t,i)):k(l,i)}const[J]=x("CheckboxGroupRoot");function h(l){return l==="indeterminate"}function E(l){return h(l)?"indeterminate":l?"checked":"unchecked"}const[Q,U]=x("CheckboxRoot");var W=_({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(l,{emit:i}){const t=l,o=i,{forwardRef:c,currentElement:f}=R(),r=J(null),s=T(t,"modelValue",o,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),u=m(()=>(r==null?void 0:r.disabled.value)||t.disabled),d=m(()=>y(r==null?void 0:r.modelValue.value)?s.value==="indeterminate"?"indeterminate":s.value:B(r.modelValue.value,t.value));function F(){if(y(r==null?void 0:r.modelValue.value))s.value=h(s.value)?!0:!s.value;else{const a=[...r.modelValue.value||[]];if(B(a,t.value)){const q=a.findIndex(p=>k(p,t.value));a.splice(q,1)}else a.push(t.value);r.modelValue.value=a}}const I=j(f),P=m(()=>{var a;return t.id&&f.value?(a=document.querySelector(`[for="${t.id}"]`))==null?void 0:a.innerText:void 0});return U({disabled:u,state:d}),(a,q)=>{var p,w;return b(),v(O((p=e(r))!=null&&p.rovingFocus.value?e(N):e(S)),g(a.$attrs,{id:a.id,ref:e(c),role:"checkbox","as-child":a.asChild,as:a.as,type:a.as==="button"?"button":void 0,"aria-checked":e(h)(d.value)?"mixed":d.value,"aria-required":a.required,"aria-label":a.$attrs["aria-label"]||P.value,"data-state":e(E)(d.value),"data-disabled":u.value?"":void 0,disabled:u.value,focusable:(w=e(r))!=null&&w.rovingFocus.value?!u.value:void 0,onKeydown:H(L(()=>{},["prevent"]),["enter"]),onClick:F}),{default:n(()=>[V(a.$slots,"default",{modelValue:e(s),state:d.value}),e(I)&&a.name&&!e(r)?(b(),v(e(z),{key:0,type:"checkbox",checked:!!d.value,name:a.name,value:a.value,disabled:u.value,required:a.required},null,8,["checked","name","value","disabled","required"])):D("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),X=W,Y=_({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const{forwardRef:i}=R(),t=Q();return(o,c)=>(b(),v(e(A),{present:o.forceMount||e(h)(e(t).state.value)||e(t).state.value===!0},{default:n(()=>[C(e(S),g({ref:e(i),"data-state":e(E)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:n(()=>[V(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Z=Y;const ue=_({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:i}){const t=l,o=i,c=m(()=>{const{class:r,...s}=t;return s}),f=M(c,o);return(r,s)=>(b(),v(e(X),g({"data-slot":"checkbox"},e(f),{class:e($)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:n(()=>[C(e(Z),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:n(()=>[V(r.$slots,"default",{},()=>[C(e(K),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{ue as _};
