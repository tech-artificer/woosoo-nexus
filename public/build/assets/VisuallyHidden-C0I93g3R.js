import{c as I}from"./createContext-DUWa75Un.js";import{S as P,a2 as O,T as _,a3 as S,n as w,a4 as U,r as h,f as g,q as k,k as x,d as b,t as $,K as F,x as R,o as j,w as V,l as D,u as L}from"./app-Ck0_Oz6D.js";import{r as q,P as B}from"./Primitive-B0P0Cbkr.js";import{j as H,k as K,h as z}from"./index-BNYgcxdN.js";function ie(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const[se]=I("ConfigProvider");function Y(t){const e=P(),n=e==null?void 0:e.type.emits,l={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(c=>{l[O(_(c))]=(...r)=>t(c,...r)}),l}function G(t){const e=P(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((c,r)=>{const a=(e==null?void 0:e.type.props[r]).default;return a!==void 0&&(c[r]=a),c},{}),l=S(t);return w(()=>{const c={},r=(e==null?void 0:e.vnode.props)??{};return Object.keys(r).forEach(a=>{c[_(a)]=r[a]}),Object.keys({...n,...c}).reduce((a,o)=>(l.value[o]!==void 0&&(a[o]=l.value[o]),a),{})})}function re(t,e){const n=G(t),l=e?Y(e):{};return w(()=>({...n.value,...l}))}function oe(t,e="reka"){var n;return`${e}-${(n=U)==null?void 0:n()}`}function J(t,e){const n=h(t);function l(r){return e[n.value][r]??n.value}return{state:n,dispatch:r=>{n.value=l(r)}}}function Q(t,e){var N;const n=h({}),l=h("none"),c=h(t),r=t.value?"mounted":"unmounted";let a;const o=((N=e.value)==null?void 0:N.ownerDocument.defaultView)??H,{state:m,dispatch:f}=J(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=i=>{var s;if(K){const v=new CustomEvent(i,{bubbles:!1,cancelable:!1});(s=e.value)==null||s.dispatchEvent(v)}};g(t,async(i,s)=>{var y;const v=s!==i;if(await k(),v){const E=l.value,p=A(e.value);i?(f("MOUNT"),d("enter"),p==="none"&&d("after-enter")):p==="none"||p==="undefined"||((y=n.value)==null?void 0:y.display)==="none"?(f("UNMOUNT"),d("leave"),d("after-leave")):s&&E!==p?(f("ANIMATION_OUT"),d("leave")):(f("UNMOUNT"),d("after-leave"))}},{immediate:!0});const u=i=>{const s=A(e.value),v=s.includes(i.animationName),y=m.value==="mounted"?"enter":"leave";if(i.target===e.value&&v&&(d(`after-${y}`),f("ANIMATION_END"),!c.value)){const E=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=o==null?void 0:o.setTimeout(()=>{var p;((p=e.value)==null?void 0:p.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=E)})}i.target===e.value&&s==="none"&&f("ANIMATION_END")},M=i=>{i.target===e.value&&(l.value=A(e.value))},T=g(e,(i,s)=>{i?(n.value=getComputedStyle(i),i.addEventListener("animationstart",M),i.addEventListener("animationcancel",u),i.addEventListener("animationend",u)):(f("ANIMATION_END"),a!==void 0&&(o==null||o.clearTimeout(a)),s==null||s.removeEventListener("animationstart",M),s==null||s.removeEventListener("animationcancel",u),s==null||s.removeEventListener("animationend",u))},{immediate:!0}),C=g(m,()=>{const i=A(e.value);l.value=m.value==="mounted"?i:"none"});return x(()=>{T(),C()}),{isPresent:w(()=>["mounted","unmountSuspended"].includes(m.value))}}function A(t){return t&&getComputedStyle(t).animationName||"none"}var ue=b({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var f;const{present:l,forceMount:c}=$(t),r=h(),{isPresent:a}=Q(l,r);n({present:a});let o=e.default({present:a.value});o=q(o||[]);const m=P();if(o&&(o==null?void 0:o.length)>1){const d=(f=m==null?void 0:m.parent)!=null&&f.type.name?`<${m.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${d}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}return()=>c.value||l.value||a.value?F(e.default({present:a.value})[0],{ref:d=>{const u=z(d);return typeof(u==null?void 0:u.hasAttribute)>"u"||(u!=null&&u.hasAttribute("data-reka-popper-content-wrapper")?r.value=u.firstElementChild:r.value=u),u}}):null}}),W=b({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(j(),R(L(B),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:V(()=>[D(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),le=W;export{ue as P,le as V,re as a,G as b,Y as c,ie as g,se as i,oe as u};
