import{_ as O,C as W,a as q,b as P,c as G,d as H,e as X,f as Y,g as Z,h as ee,i as te,A as ae}from"./AppLayout-D6CGHXZO.js";import{d as k,x as p,o as r,w as l,l as se,E as le,u as e,c as v,a as t,b as c,C as h,B as g,v as T,n as J,r as S,M as A,y as V,F as $,J as B,K as m,A as R,I as ne,h as oe}from"./app-Ck0_Oz6D.js";import{P as re}from"./Primitive-B0P0Cbkr.js";import{c as Q,v as U}from"./utils-CnVfeQtM.js";import{c as ie,a as de,_ as x}from"./index-DrcL8KoG.js";import{r as ue}from"./index-BNYgcxdN.js";import{_ as E}from"./Checkbox.vue_vue_type_script_setup_true_lang-EGv8aF6C.js";import{A as N,a as L,C as ce,b as me,R as pe}from"./refresh-ccw-CSk0XjQX.js";import{_ as fe,a as ge,b as ve,c as be,d as _e,e as we,f as ye,g as xe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CE07j06K.js";import{t as Ce}from"./index-LxG5FLxo.js";import{E as he}from"./ellipsis-BxSMAEbM.js";import{u as $e,F as j,g as ke,a as Se,b as Fe,c as Re,d as Pe,e as Ve}from"./index-CkKMMlrv.js";import{d as Ue,_ as De,a as Ae,c as z,b as D,e as Me}from"./TableHeader.vue_vue_type_script_setup_true_lang-DYXfyqRu.js";import{_ as Ie,a as Te,b as Be,c as Ee,d as Ne}from"./SelectValue.vue_vue_type_script_setup_true_lang-w7OKlDAx.js";import{C as Le}from"./chevron-left-LQZGwieH.js";import{C as je}from"./chevron-right-PcGgRnqa.js";import{_ as ze}from"./Input.vue_vue_type_script_setup_true_lang-CgtFYhle.js";import"./_plugin-vue_export-helper-DFpy9yx9.js";import"./useForwardExpose-DuyzoFiO.js";import"./VisuallyHidden-C0I93g3R.js";import"./createContext-DUWa75Un.js";import"./PopperContent-DhHBm_MV.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BpOb4CbK.js";import"./Collection-DGRyn5kX.js";import"./useTypeahead-B3MrhPxq.js";import"./RovingFocusGroup-iINgKn9K.js";import"./check-BGLMj-b2.js";import"./RovingFocusItem-DhKJ5z_J.js";import"./VisuallyHiddenInput-KcCq5A4F.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ie("HardDriveDownloadIcon",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]),K=k({__name:"Badge",props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(o){const s=o,a=ue(s,"class");return(i,b)=>(r(),p(e(re),le({"data-slot":"badge",class:e(Q)(e(Oe)({variant:i.variant}),s.class)},e(a)),{default:l(()=>[se(i.$slots,"default")]),_:3},16,["class"]))}}),Oe=de("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"text-xs border-transparent bg-woosoo-green-100 text-woosoo-green [a&]:hover:bg-primary/90",active:"bg-green-500 text-green-100",accent:"bg-blue-500 text-blue-100"}},defaultVariants:{variant:"default"}}),qe={inheritAttrs:!1},F=k({...qe,__name:"DataTableColumnHeader",props:{column:{},title:{}},setup(o){return(s,a)=>s.column.getCanSort()?(r(),v("div",{key:0,class:T(e(Q)("flex items-center space-x-2",s.$attrs.class??""))},[t(e(H),null,{default:l(()=>[t(e(O),{"as-child":""},{default:l(()=>[t(e(x),{variant:"ghost",size:"sm",class:"-ml-3 h-8 data-[state=open]:bg-accent"},{default:l(()=>[c("span",null,h(s.title),1),s.column.getIsSorted()==="desc"?(r(),p(e(N),{key:0,class:"ml-2 h-4 w-4"})):s.column.getIsSorted()==="asc"?(r(),p(e(L),{key:1,class:"ml-2 h-4 w-4"})):(r(),p(e(W),{key:2,class:"ml-2 h-4 w-4"}))]),_:1})]),_:1}),t(e(q),{align:"start"},{default:l(()=>[t(e(P),{onClick:a[0]||(a[0]=i=>s.column.toggleSorting(!1))},{default:l(()=>[t(e(L),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),a[2]||(a[2]=g(" Asc ",-1))]),_:1}),t(e(P),{onClick:a[1]||(a[1]=i=>s.column.toggleSorting(!0))},{default:l(()=>[t(e(N),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),a[3]||(a[3]=g(" Desc ",-1))]),_:1}),t(e(G))]),_:1})]),_:1})],2)):(r(),v("div",{key:1,class:T(s.$attrs.class)},h(s.title),3))}}),Ge=k({__name:"DataTableRowActions",props:{row:{}},setup(o){const s=o,a=J(()=>({...s.row.original})),i=S(!1),b=()=>{i.value=!0},w=S(!1),_=()=>{w.value=!0},f=u=>{B.visit(route("users.destroy",u),{method:"delete",onSuccess:()=>{Ce.warning("Account Deactivated")}})},d=u=>{B.patch(route("users.restore",u.id),{},{onSuccess:n=>{console.log(n)},onError:n=>{console.log(n)}})};return console.log(route("users.restore",3)),(u,n)=>{const C=A("UserForm");return r(),v($,null,[t(e(H),null,{default:l(()=>[t(e(O),{"as-child":""},{default:l(()=>[t(e(x),{variant:"ghost",class:"flex h-8 w-8 p-0 data-[state=open]:bg-muted"},{default:l(()=>[t(e(he),{class:"h-4 w-4"}),n[4]||(n[4]=c("span",{class:"sr-only"},"Open menu",-1))]),_:1})]),_:1}),t(e(q),{align:"end",class:"w-[160px]"},{default:l(()=>[t(e(P),{class:"cursor-pointer",onClick:b},{default:l(()=>[...n[5]||(n[5]=[g("Edit User",-1)])]),_:1}),a.value.deleted_at?a.value.deleted_at&&a.value.role!=="Administrator"?(r(),p(e(P),{key:1,onClick:n[0]||(n[0]=y=>d(a.value)),class:"text-green cursor-pointer"},{default:l(()=>[n[7]||(n[7]=g(" Activate account ",-1)),t(e(G))]),_:1})):V("",!0):(r(),p(e(P),{key:0,onClick:_,disabled:a.value.role==="Owner",class:"text-orange cursor-pointer"},{default:l(()=>[...n[6]||(n[6]=[g(" Deactivate account ",-1)])]),_:1},8,["disabled"]))]),_:1})]),_:1}),t(e(xe),{open:w.value,"onUpdate:open":n[2]||(n[2]=y=>w.value=y)},{default:l(()=>[t(e(fe),null,{default:l(()=>[t(e(ge),null,{default:l(()=>[t(e(ve),null,{default:l(()=>[...n[8]||(n[8]=[g("Are you absolutely sure?",-1)])]),_:1}),t(e(be),null,{default:l(()=>[...n[9]||(n[9]=[g(" This action cannot be undone. This will permanently delete this account. ",-1)])]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[t(e(we),null,{default:l(()=>[...n[10]||(n[10]=[g("Cancel",-1)])]),_:1}),t(e(ye),{class:"bg-red-600 hover:bg-red-500",onClick:n[1]||(n[1]=y=>f(a.value))},{default:l(()=>[...n[11]||(n[11]=[g("Continue",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(te),{open:i.value,"onUpdate:open":n[3]||(n[3]=y=>i.value=y)},{default:l(()=>[t(e(X),null,{default:l(()=>[t(e(Y),null,{default:l(()=>[t(e(Z),null,{default:l(()=>[...n[12]||(n[12]=[g("Edit User",-1)])]),_:1}),t(e(ee),null,{default:l(()=>[...n[13]||(n[13]=[g(" Edit the user's information. ",-1)])]),_:1})]),_:1}),t(C,{user:a.value,"form-type":"edit"},null,8,["user"])]),_:1})]),_:1},8,["open"])],64)}}}),He=[{id:"select",header:({table:o})=>m(E,{modelValue:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:modelValue":s=>o.toggleAllPageRowsSelected(!!s),ariaLabel:"Select all",class:"translate-y-0.5 flex space-x-2"}),cell:({row:o})=>m(E,{modelValue:o.getIsSelected(),"onUpdate:modelValue":s=>o.toggleSelected(!!s),ariaLabel:"Select row",class:"translate-y-0.5"})},{accessorKey:"name",header:({column:o})=>m(F,{column:o,title:"Name",class:"w-[150px]"}),cell:({row:o})=>m("div",{class:"flex space-x-2"},[m("span",{class:" font-medium"},o.getValue("name"))])},{accessorKey:"email",enableColumnFilter:!1,enableSorting:!1,header:({column:o})=>m(F,{column:o,title:"Email",class:"w-[200px]"}),cell:({row:o})=>m("div",{class:"w-20 flex space-x-2"},o.getValue("email"))},{accessorKey:"roles",enableColumnFilter:!1,enableSorting:!1,header:({column:o})=>m(F,{column:o,title:"Role"}),cell:({row:o})=>{const s=o.original.roles;return m("div",{class:"flex gap-1"},s.map(a=>m(K,{variant:"outline",class:"text-xs capitalize"},()=>a.name)))},accessorFn:o=>{var s;return((s=o.roles)==null?void 0:s.map(a=>a.name))??[]},filterFn:(o,s,a)=>{const i=o.getValue(s);return a.some(b=>i.includes(b))}},{accessorKey:"deleted_at",header:({column:o})=>m(F,{column:o,title:"Status"}),enableColumnFilter:!1,enableSorting:!1,cell:({row:o})=>m("div",{class:"w-auto text-sm"},m(K,{variant:"outline"},()=>o.getValue("deleted_at")?"inactive":"active"))},{accessorKey:"id",header:({column:o})=>m(F,{column:o,title:""}),enableColumnFilter:!1,enableSorting:!1,cell:({row:o})=>m(Ge,{row:o})}],Je={class:"flex items-center justify-between px-2"},Qe={class:"flex-1 text-sm text-muted-foreground"},We={class:"flex items-center space-x-6 lg:space-x-8"},Xe={class:"flex items-center space-x-2"},Ye={class:"flex w-[100px] items-center justify-center text-sm font-medium"},Ze={class:"flex items-center space-x-2"},et=k({__name:"DataTablePagination",props:{table:{}},setup(o){return(s,a)=>(r(),v("div",Je,[c("div",Qe,h(s.table.getFilteredSelectedRowModel().rows.length)+" of "+h(s.table.getFilteredRowModel().rows.length)+" row(s) selected. ",1),c("div",We,[c("div",Xe,[a[4]||(a[4]=c("p",{class:"text-sm font-medium"}," Rows per page ",-1)),t(e(Ie),{"model-value":`${s.table.getState().pagination.pageSize}`,"onUpdate:modelValue":s.table.setPageSize},{default:l(()=>[t(e(Te),{class:"h-8 w-[70px]"},{default:l(()=>[t(e(Be),{placeholder:`${s.table.getState().pagination.pageSize}`},null,8,["placeholder"])]),_:1}),t(e(Ee),{side:"top"},{default:l(()=>[(r(),v($,null,R([10,20,30,40,50],i=>t(e(Ne),{key:i,value:`${i}`},{default:l(()=>[g(h(i),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),c("div",Ye," Page "+h(s.table.getState().pagination.pageIndex+1)+" of "+h(s.table.getPageCount()),1),c("div",Ze,[t(e(x),{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!s.table.getCanPreviousPage(),onClick:a[0]||(a[0]=i=>s.table.setPageIndex(0))},{default:l(()=>[a[5]||(a[5]=c("span",{class:"sr-only"},"Go to first page",-1)),t(e(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(x),{variant:"outline",class:"h-8 w-8 p-0",disabled:!s.table.getCanPreviousPage(),onClick:a[1]||(a[1]=i=>s.table.previousPage())},{default:l(()=>[a[6]||(a[6]=c("span",{class:"sr-only"},"Go to previous page",-1)),t(e(Le),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(x),{variant:"outline",class:"h-8 w-8 p-0",disabled:!s.table.getCanNextPage(),onClick:a[2]||(a[2]=i=>s.table.nextPage())},{default:l(()=>[a[7]||(a[7]=c("span",{class:"sr-only"},"Go to next page",-1)),t(e(je),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(x),{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!s.table.getCanNextPage(),onClick:a[3]||(a[3]=i=>s.table.setPageIndex(s.table.getPageCount()-1))},{default:l(()=>[a[8]||(a[8]=c("span",{class:"sr-only"},"Go to last page",-1)),t(e(me),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])]))}}),tt={class:"flex flex-row flex-wrap justify-between gap-2"},at={class:"flex flex-row flex-wrap gap-2"},st={class:"flex flex-row flex-wrap gap-2"},lt=k({__name:"DataTableToolbar",props:{table:{}},setup(o){const s=ne(),a=s.props.roles??[],i=s.props.branches??[],b=a.map(d=>({value:d.name,label:d.name})),w=i.map(d=>({value:d.name,label:d.name.charAt(0).toUpperCase()+d.name.slice(1)})),_=o,f=J(()=>_.table.getState().columnFilters.length>0);return(d,u)=>{var y;const n=A("DataTableFacetedFilter"),C=A("AddUser");return r(),v("div",tt,[c("div",at,[t(e(ze),{placeholder:"Filter Users...","model-value":((y=d.table.getColumn("name"))==null?void 0:y.getFilterValue())??"",class:"h-8 w-[150px] lg:w-[250px]",onInput:u[0]||(u[0]=M=>{var I;return(I=d.table.getColumn("name"))==null?void 0:I.setFilterValue(M.target.value)})},null,8,["model-value"]),d.table.getColumn("branches")?(r(),p(n,{key:0,column:d.table.getColumn("branches"),title:"Branches",options:e(w)},null,8,["column","options"])):V("",!0),d.table.getColumn("roles")?(r(),p(n,{key:1,column:d.table.getColumn("roles"),title:"Roles",options:e(b)},null,8,["column","options"])):V("",!0),f.value?(r(),p(e(x),{key:2,variant:"outline",class:"h-8 px-2 lg:px-3 flex justify-between items-center",onClick:u[1]||(u[1]=M=>d.table.resetColumnFilters())},{default:l(()=>[t(e(pe),{class:"text-green h-3 w-3"})]),_:1})):V("",!0)]),c("div",st,[t(e(x),{variant:"outline",class:"h-8 px-2 lg:px-3"},{default:l(()=>[t(e(Ke),{class:"h-4 w-4"})]),_:1}),t(C)])])}}}),nt={class:"space-y-4"},ot={class:"rounded-md border"},rt=k({__name:"DataTable",props:{columns:{},data:{}},setup(o){const s=o,a=S([]),i=S([]),b=S({}),w=S({}),_=$e({get data(){return s.data},get columns(){return s.columns},state:{get sorting(){return a.value},get columnFilters(){return i.value},get columnVisibility(){return b.value},get rowSelection(){return w.value}},enableRowSelection:!0,onSortingChange:f=>U(f,a),onColumnFiltersChange:f=>U(f,i),onColumnVisibilityChange:f=>U(f,b),onRowSelectionChange:f=>U(f,w),getCoreRowModel:Ve(),getFilteredRowModel:Pe(),getPaginationRowModel:Re(),getSortedRowModel:Fe(),getFacetedRowModel:Se(),getFacetedUniqueValues:ke()});return(f,d)=>(r(),v("div",nt,[t(lt,{table:e(_)},null,8,["table"]),c("div",ot,[t(e(Ue),null,{default:l(()=>[t(e(De),null,{default:l(()=>[(r(!0),v($,null,R(e(_).getHeaderGroups(),u=>(r(),p(e(D),{key:u.id},{default:l(()=>[(r(!0),v($,null,R(u.headers,n=>(r(),p(e(Me),{key:n.id},{default:l(()=>[n.isPlaceholder?V("",!0):(r(),p(e(j),{key:0,render:n.column.columnDef.header,props:n.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),t(e(Ae),null,{default:l(()=>{var u;return[(u=e(_).getRowModel().rows)!=null&&u.length?(r(!0),v($,{key:0},R(e(_).getRowModel().rows,n=>(r(),p(e(D),{key:n.id,"data-state":n.getIsSelected()&&"selected"},{default:l(()=>[(r(!0),v($,null,R(n.getVisibleCells(),C=>(r(),p(e(z),{key:C.id},{default:l(()=>[t(e(j),{render:C.column.columnDef.cell,props:C.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(r(),p(e(D),{key:1},{default:l(()=>[t(e(z),{colspan:f.columns.length,class:"h-24 text-center"},{default:l(()=>[...d[0]||(d[0]=[g(" No results. ",-1)])]),_:1},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),t(et,{table:e(_)},null,8,["table"])]))}}),it={class:"flex h-full flex-1 flex-col bg-white gap-4 rounded p-6"},Et=k({__name:"Index",props:{title:{},description:{},users:{}},setup(o){const s=[{title:"User Management",href:route("users.index")}];return(a,i)=>(r(),v($,null,[t(e(oe),{title:a.title,description:a.description},null,8,["title","description"]),t(ae,{breadcrumbs:s},{default:l(()=>[c("div",it,[t(rt,{data:a.users,columns:e(He)},null,8,["data","columns"])])]),_:1})],64))}});export{Et as default};
