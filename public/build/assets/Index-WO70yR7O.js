import{_ as O,C as q,a as H,b as I,c as W,d as X,j as J,A as Q}from"./AppLayout-D6CGHXZO.js";import{d as y,c as f,o as i,a as s,w as l,u as e,b as u,x as g,C as _,B as v,v as D,r as w,G as Y,i as Z,y as F,H as ee,n as G,e as te,K as m,F as C,A as S,h as se}from"./app-Ck0_Oz6D.js";import{_ as U}from"./Checkbox.vue_vue_type_script_setup_true_lang-EGv8aF6C.js";import{c as ae,v as M}from"./utils-CnVfeQtM.js";import{_ as x}from"./index-DrcL8KoG.js";import{A as j,a as A,C as le,b as oe,R as ne}from"./refresh-ccw-CSk0XjQX.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-CgtFYhle.js";import{_ as re}from"./InputError.vue_vue_type_script_setup_true_lang-BNELwGi_.js";import{_ as ie}from"./Label.vue_vue_type_script_setup_true_lang-D3RFqliM.js";import{t as L}from"./index-LxG5FLxo.js";import{a as ue,b as de,c as me,_ as ce,X as T}from"./_plugin-vue_export-helper-DFpy9yx9.js";import{_ as pe,I as fe}from"./TooltipProvider.vue_vue_type_script_setup_true_lang-oESbVl17.js";import{_ as ge,a as _e,b as be,c as ve,d as we}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DEm-3iQx.js";import{_ as he,a as xe}from"./DialogHeader.vue_vue_type_script_setup_true_lang-CB6DszYt.js";import{_ as $e,a as ye,b as Ce}from"./AvatarImage.vue_vue_type_script_setup_true_lang-BpOb4CbK.js";import{C as N}from"./check-BGLMj-b2.js";import{u as ke,F as z,g as Se,a as Fe,b as Re,c as Me,d as Pe,e as Ve}from"./index-CkKMMlrv.js";import{d as Ie,_ as De,a as Ue,c as B,b as P,e as je}from"./TableHeader.vue_vue_type_script_setup_true_lang-DYXfyqRu.js";import{_ as Ae,a as Le,b as Te,c as Ne,d as ze}from"./SelectValue.vue_vue_type_script_setup_true_lang-w7OKlDAx.js";import{C as Be}from"./chevron-left-LQZGwieH.js";import{C as Ge}from"./chevron-right-PcGgRnqa.js";import"./index-BNYgcxdN.js";import"./createContext-DUWa75Un.js";import"./Primitive-B0P0Cbkr.js";import"./VisuallyHidden-C0I93g3R.js";import"./useForwardExpose-DuyzoFiO.js";import"./Collection-DGRyn5kX.js";import"./PopperContent-DhHBm_MV.js";import"./useTypeahead-B3MrhPxq.js";import"./RovingFocusGroup-iINgKn9K.js";import"./RovingFocusItem-DhKJ5z_J.js";import"./VisuallyHiddenInput-KcCq5A4F.js";const Ke={inheritAttrs:!1},k=y({...Ke,__name:"DataTableColumnHeader",props:{column:{},title:{}},setup(o){return(t,a)=>t.column.getCanSort()?(i(),f("div",{key:0,class:D(e(ae)("flex items-center space-x-2",t.$attrs.class??""))},[s(e(X),null,{default:l(()=>[s(e(O),{"as-child":""},{default:l(()=>[s(e(x),{variant:"ghost",size:"sm",class:"-ml-3 h-8 data-[state=open]:bg-accent"},{default:l(()=>[u("span",null,_(t.title),1),t.column.getIsSorted()==="desc"?(i(),g(e(j),{key:0,class:"ml-2 h-4 w-4"})):t.column.getIsSorted()==="asc"?(i(),g(e(A),{key:1,class:"ml-2 h-4 w-4"})):(i(),g(e(q),{key:2,class:"ml-2 h-4 w-4"}))]),_:1})]),_:1}),s(e(H),{align:"start"},{default:l(()=>[s(e(I),{onClick:a[0]||(a[0]=n=>t.column.toggleSorting(!1))},{default:l(()=>[s(e(A),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),a[2]||(a[2]=v(" Asc ",-1))]),_:1}),s(e(I),{onClick:a[1]||(a[1]=n=>t.column.toggleSorting(!0))},{default:l(()=>[s(e(j),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),a[3]||(a[3]=v(" Desc ",-1))]),_:1}),s(e(W))]),_:1})]),_:1})],2)):(i(),f("div",{key:1,class:D(t.$attrs.class)},_(t.title),3))}}),Ee={class:"flex justify-start mb-5"},Oe={key:0,class:"flex justify-center"},qe=["src"],He={class:"grid gap-2"},We=["value"],Xe={class:"flex items-center justify-between gap-2 flex-row-reverse mt-5"},Je=y({__name:"MenuForm",props:{menu:{}},setup(o){const t=o,a=w(!1),n=w(t.menu.img_url),c=w([t.menu]),d=Y({image:null}),b=()=>{a.value=!0};function p($){var V;const r=$.target;if(!r||!((V=r.files)!=null&&V.length))return;const h=r.files[0];try{n.value=URL.createObjectURL(h),c.value[0].img_url=n.value}catch(E){console.error("Error while handling file change",E)}}function R(){d.post(route("menu.upload.image",{id:t.menu.id}),{forceFormData:!0,preserveScroll:!0,preserveState:!0,onSuccess:()=>{L("Image Uploaded:",{description:"The previous image has been replaced with your new upload.",action:{label:"Ok",variant:"success",onClick:()=>console.log("Ok")},duration:5e3,position:"top-right"}),a.value=!1},onError:()=>{L("An Error Occured",{description:"Something Went Wrong!",duration:5e3,position:"top-right"}),c.value[0].img_url=t.menu.img_url}})}return Z(()=>()=>{n.value&&n.value.startsWith("blob:")&&URL.revokeObjectURL(n.value)}),($,r)=>(i(),g(e(ge),{open:a.value,"onUpdate:open":r[1]||(r[1]=h=>a.value=h)},{default:l(()=>[s(e(pe),{"delay-duration":100},{default:l(()=>[s(e(ue),{class:""},{default:l(()=>[s(e(de),{"as-child":""},{default:l(()=>[s(e(_e),{"as-child":""},{default:l(()=>[s(e(x),{variant:"ghost",class:"py-1 px-2 cursor-pointer",onClick:b},{default:l(()=>[s(e(fe),{class:"p-0"})]),_:1})]),_:1})]),_:1}),s(e(me),null,{default:l(()=>[...r[2]||(r[2]=[u("p",null,"Change Display Photo",-1)])]),_:1})]),_:1})]),_:1}),s(e(be),{class:"sm:max-w-[600px]"},{default:l(()=>[s(e(he),{class:"flex flex-col gap-2 justify-start"},{default:l(()=>[u("div",Ee,[n.value?(i(),f("div",Oe,[u("img",{src:n.value,class:"w-32 h-32 object-cover border rounded-lg",alt:"Menu Image"},null,8,qe)])):F("",!0)]),s(e(ve),null,{default:l(()=>[v(_(t.menu.name),1)]),_:1}),s(e(we),null,{default:l(()=>[...r[3]||(r[3]=[v(" Upload or replace the featured image for this menu item. ",-1)])]),_:1})]),_:1}),u("form",{onSubmit:ee(R,["prevent"]),method:"put",class:"space-y-4"},[u("div",He,[s(e(ie),{for:"image",class:"text-woosoo-dark-gray"},{default:l(()=>[...r[4]||(r[4]=[v("Featured Image",-1)])]),_:1}),s(e(K),{id:"image",type:"file","v-model":e(d).image,accept:"image/*",onChange:p,onInput:r[0]||(r[0]=h=>e(d).image=h.target.files[0])},null,8,["v-model"]),e(d).progress?(i(),f("progress",{key:0,value:e(d).progress.percentage,max:"100"},_(e(d).progress.percentage)+"% ",9,We)):F("",!0),s(re,{message:e(d).errors.image},null,8,["message"])]),u("div",Xe,[s(e(x),{type:"submit",class:"hover:bg-woosoo-primary-light hover:text-woosoo-primary-dark bg-woosoo-accent cursor-pointer text-gray-100 w-50",disabled:e(d).processing},{default:l(()=>[...r[5]||(r[5]=[v(" Save Changes ",-1)])]),_:1},8,["disabled"]),s(e(xe),{"as-child":""},{default:l(()=>[s(e(x),{type:"button",variant:"secondary",class:"cursor-pointer w-50"},{default:l(()=>[...r[6]||(r[6]=[v(" Close ",-1)])]),_:1})]),_:1})])],32)]),_:1})]),_:1},8,["open"]))}}),Qe=ce(Je,[["__scopeId","data-v-ee5cf612"]]),Ye=y({__name:"DataTableRowActions",props:{row:{}},setup(o){w(!1);const t=o,a=G(()=>({...t.row.original}));return w(!1),w(!1),(n,c)=>(i(),g(Qe,{menu:a.value},null,8,["menu"]))}}),Ze={class:"flex items-center gap-3"},et={class:"flex flex-col"},tt={class:"font-semibold capitalize"},st={class:"text-xs capitalize text-muted-foreground"},at=y({__name:"MenuName",props:{menu:{}},setup(o){const t=o,a=te([t.menu.category,t.menu.group,t.menu.course]);return(n,c)=>(i(),f("div",Ze,[s(e(Ce),{class:"size-8 overflow-hidden rounded-full"},{default:l(()=>[n.menu.img_url?(i(),g(e($e),{key:0,src:n.menu.img_url,alt:n.menu.name},null,8,["src","alt"])):F("",!0),s(e(ye),{class:"rounded-lg bg-neutral-200 font-semibold text-black dark:bg-neutral-700 dark:text-white"},{default:l(()=>{var d;return[v(_(e(J)((d=n.menu)==null?void 0:d.name)),1)]}),_:1})]),_:1}),u("div",et,[u("h3",tt,_(n.menu.name),1),u("span",st,_(a.filter(d=>d&&d.trim()).join(" | ").toLocaleLowerCase()),1)])]))}}),lt=[{id:"select",header:({table:o})=>m(U,{modelValue:o.getIsAllPageRowsSelected()||o.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:modelValue":t=>o.toggleAllPageRowsSelected(!!t),ariaLabel:"Select all",class:"translate-y-0.5 flex space-x-2"}),cell:({row:o})=>m(U,{modelValue:o.getIsSelected(),"onUpdate:modelValue":t=>o.toggleSelected(!!t),ariaLabel:"Select row",class:"translate-y-0.5"})},{accessorKey:"name",header:({column:o})=>m(k,{column:o,title:"Name",class:"w-[150px]"}),cell:({row:o})=>m(at,{menu:o.original})},{accessorKey:"is_taxable",header:({column:o})=>m(k,{column:o,title:"Taxable",class:"w-[150px]"}),enableColumnFilter:!1,enableSorting:!1,cell:({row:o})=>{const t=o.getValue("is_taxable");return m("div",{class:"flex space-x-2"},[t?m(N,{class:"text-green-500"}):m(T,{class:"text-red-500"})])}},{accessorKey:"is_modifier_only",header:({column:o})=>m(k,{column:o,title:"Modifier only",class:"w-[150px]"}),enableColumnFilter:!1,enableSorting:!1,cell:({row:o})=>{const t=o.getValue("is_modifier_only");return m("div",{class:"flex space-x-2"},[t?m(N,{class:"text-green-500"}):m(T,{class:"text-red-500"})])}},{accessorKey:"price",header:({column:o})=>m(k,{column:o,title:"Price",class:"w-[200px]"}),cell:({row:o})=>m("div",{class:"w-20 flex space-x-2"},o.getValue("price"))},{accessorKey:"id",header:({column:o})=>m(k,{column:o,title:""}),enableColumnFilter:!1,enableSorting:!1,cell:({row:o})=>m(Ye,{row:o})}],ot={class:"flex items-center justify-between px-2"},nt={class:"flex-1 text-sm text-muted-foreground"},rt={class:"flex items-center space-x-6 lg:space-x-8"},it={class:"flex items-center space-x-2"},ut={class:"flex w-[100px] items-center justify-center text-sm font-medium"},dt={class:"flex items-center space-x-2"},mt=y({__name:"DataTablePagination",props:{table:{}},setup(o){return(t,a)=>(i(),f("div",ot,[u("div",nt,_(t.table.getFilteredSelectedRowModel().rows.length)+" of "+_(t.table.getFilteredRowModel().rows.length)+" row(s) selected. ",1),u("div",rt,[u("div",it,[a[4]||(a[4]=u("p",{class:"text-sm font-medium"}," Rows per page ",-1)),s(e(Ae),{"model-value":`${t.table.getState().pagination.pageSize}`,"onUpdate:modelValue":t.table.setPageSize},{default:l(()=>[s(e(Le),{class:"h-8 w-[70px]"},{default:l(()=>[s(e(Te),{placeholder:`${t.table.getState().pagination.pageSize}`},null,8,["placeholder"])]),_:1}),s(e(Ne),{side:"top"},{default:l(()=>[(i(),f(C,null,S([10,20,30,40,50],n=>s(e(ze),{key:n,value:`${n}`},{default:l(()=>[v(_(n),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),u("div",ut," Page "+_(t.table.getState().pagination.pageIndex+1)+" of "+_(t.table.getPageCount()),1),u("div",dt,[s(e(x),{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!t.table.getCanPreviousPage(),onClick:a[0]||(a[0]=n=>t.table.setPageIndex(0))},{default:l(()=>[a[5]||(a[5]=u("span",{class:"sr-only"},"Go to first page",-1)),s(e(le),{class:"h-4 w-4"})]),_:1},8,["disabled"]),s(e(x),{variant:"outline",class:"h-8 w-8 p-0",disabled:!t.table.getCanPreviousPage(),onClick:a[1]||(a[1]=n=>t.table.previousPage())},{default:l(()=>[a[6]||(a[6]=u("span",{class:"sr-only"},"Go to previous page",-1)),s(e(Be),{class:"h-4 w-4"})]),_:1},8,["disabled"]),s(e(x),{variant:"outline",class:"h-8 w-8 p-0",disabled:!t.table.getCanNextPage(),onClick:a[2]||(a[2]=n=>t.table.nextPage())},{default:l(()=>[a[7]||(a[7]=u("span",{class:"sr-only"},"Go to next page",-1)),s(e(Ge),{class:"h-4 w-4"})]),_:1},8,["disabled"]),s(e(x),{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!t.table.getCanNextPage(),onClick:a[3]||(a[3]=n=>t.table.setPageIndex(t.table.getPageCount()-1))},{default:l(()=>[a[8]||(a[8]=u("span",{class:"sr-only"},"Go to last page",-1)),s(e(oe),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])]))}}),ct={class:"flex flex-row flex-wrap justify-between gap-2"},pt={class:"flex flex-row flex-wrap gap-2"},ft=y({__name:"DataTableToolbar",props:{table:{}},setup(o){const t=o,a=G(()=>t.table.getState().columnFilters.length>0);return(n,c)=>{var d;return i(),f("div",ct,[u("div",pt,[s(e(K),{placeholder:"Filter Menu...","model-value":((d=n.table.getColumn("name"))==null?void 0:d.getFilterValue())??"",class:"h-8 w-[150px] lg:w-[250px]",onInput:c[0]||(c[0]=b=>{var p;return(p=n.table.getColumn("name"))==null?void 0:p.setFilterValue(b.target.value)})},null,8,["model-value"]),a.value?(i(),g(e(x),{key:0,variant:"outline",class:"h-8 px-2 lg:px-3 flex justify-between items-center",onClick:c[1]||(c[1]=b=>n.table.resetColumnFilters())},{default:l(()=>[s(e(ne),{class:"text-green h-3 w-3"})]),_:1})):F("",!0)]),c[2]||(c[2]=u("div",{class:"flex flex-row flex-wrap gap-2"},null,-1))])}}}),gt={class:"space-y-4"},_t={class:"rounded-md border"},bt=y({__name:"DataTable",props:{columns:{},data:{}},setup(o){const t=o,a=w([]),n=w([]),c=w({}),d=w({}),b=ke({get data(){return t.data},get columns(){return t.columns},state:{get sorting(){return a.value},get columnFilters(){return n.value},get columnVisibility(){return c.value},get rowSelection(){return d.value}},enableRowSelection:!0,onSortingChange:p=>M(p,a),onColumnFiltersChange:p=>M(p,n),onColumnVisibilityChange:p=>M(p,c),onRowSelectionChange:p=>M(p,d),getCoreRowModel:Ve(),getFilteredRowModel:Pe(),getPaginationRowModel:Me(),getSortedRowModel:Re(),getFacetedRowModel:Fe(),getFacetedUniqueValues:Se()});return(p,R)=>(i(),f("div",gt,[s(ft,{table:e(b)},null,8,["table"]),u("div",_t,[s(e(Ie),null,{default:l(()=>[s(e(De),null,{default:l(()=>[(i(!0),f(C,null,S(e(b).getHeaderGroups(),$=>(i(),g(e(P),{key:$.id},{default:l(()=>[(i(!0),f(C,null,S($.headers,r=>(i(),g(e(je),{key:r.id},{default:l(()=>[r.isPlaceholder?F("",!0):(i(),g(e(z),{key:0,render:r.column.columnDef.header,props:r.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),s(e(Ue),null,{default:l(()=>{var $;return[($=e(b).getRowModel().rows)!=null&&$.length?(i(!0),f(C,{key:0},S(e(b).getRowModel().rows,r=>(i(),g(e(P),{key:r.id,"data-state":r.getIsSelected()&&"selected"},{default:l(()=>[(i(!0),f(C,null,S(r.getVisibleCells(),h=>(i(),g(e(B),{key:h.id},{default:l(()=>[s(e(z),{render:h.column.columnDef.cell,props:h.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(i(),g(e(P),{key:1},{default:l(()=>[s(e(B),{colspan:p.columns.length,class:"h-24 text-center"},{default:l(()=>[...R[0]||(R[0]=[v(" No results. ",-1)])]),_:1},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),s(mt,{table:e(b)},null,8,["table"])]))}}),vt={class:"flex h-full flex-1 flex-col bg-white gap-4 rounded p-6"},Qt=y({__name:"Index",props:{title:{},description:{},menus:{}},setup(o){const t=[{title:"Menus",href:"/menus"}];return(a,n)=>(i(),f(C,null,[s(e(se),{title:a.title,description:a.description},null,8,["title","description"]),s(Q,{breadcrumbs:t},{default:l(()=>[u("div",vt,[s(bt,{data:a.menus,columns:e(lt)},null,8,["data","columns"])])]),_:1})],64))}});export{Qt as default};
